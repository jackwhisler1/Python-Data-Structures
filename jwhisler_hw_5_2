"""
Jon Whisler

Class: CS 521 - Fall

Date: 10/5/2025

Homework Problem # 5_2

Description: Takes input for a file, function will count the words in the supplied list that occur exactly the specified number of times.
"""
import re
from collections import Counter
def file_into_words():
  """ Takes an input of a filename to convert into a list of formatted strings """
  try:
    file = input("Please enter the name of a file: ")

    with open(file) as f:
      file_contents = f.read()
      file_contents = file_contents.lower()
      file_words = re.findall(r'\b\w+\b', file_contents)
      repeated_words(4, file_words)

  except Exception as e:
    print(e)
    print('No file of that name could be found. Please try again.')
    file_into_words(repeats, words)

def repeated_words(repeats, words):
  """ Takes in a number of occurrences to look for and a list of words to search. """
  word_counts = Counter(words)
  duplicates = {
    2: set(),
    3: set(),
    4: set(),
    5: set()
  }

  for word, count in word_counts.items():
      if count == 2:
          duplicates[2].add(word)
      elif count == 3:
          duplicates[3].add(word)
      elif count == 4:
          duplicates[4].add(word)
      elif count == 5:
          duplicates[5].add(word)

  print("\nDuplicates found:")
  for repeat, words_set in duplicates.items():
      print(f"{repeat} occurrences: {sorted(words_set) if words_set else 'None'}")

  return duplicates

if __name__ == '__main__':
  file_into_words()
